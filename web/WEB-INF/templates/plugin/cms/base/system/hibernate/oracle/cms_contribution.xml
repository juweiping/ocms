<?xml version="1.0" encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
                            "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                            "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >
<!-- Generated by Weiping Ju,this is a contribution table template.  -->
<hibernate-mapping>
  <#if ct.tableName?default("")!="">
  	<#assign table_db=ct.tableName+"_contribution"/>
  <class entity-name="${ct.entityName}Contribution" table="${table_db}">
  <#else>
    <#assign table_db="cms_contribution_"+ct.tableId/>
  <class entity-name="Contribution_${ct.tableId}" table="${table_db}">
  </#if>
   <!--the fixed column-->
    <id name="contributionId" type="long" unsaved-value="0">
      <column name="ContributionID"  not-null="true" />
      <generator class="sequence">
			<param name="sequence">${table_db}_seq</param>
	  </generator>
    </id>
    <property name="cateId" type="long" >
      <column name="CateID"  not-null="true" default="0"/>
    </property>
    <property name="creationDate" type="long">
      <column name="CreationDate" />
    </property>
    <property name="modifiedDate" type="long">
      <column name="ModifiedDate" />
    </property>
    <property name="approvedDate"  type="long">
      <column name="ApprovedDate" />
    </property>
    <property name="ownerId" type="long">
      <column name="OwnerID"/>
    </property>
    <property name="state"  type="integer">
      <column name="State" />
    </property>
    <property name="nodeId" type="long">
      <column name="NodeID"   not-null="true" default="0"/>
    </property>
    <property name="subNodeId" column="SubNodeID" type="string" not-null="true">
    </property>
    <property name="indexNodeId" column="IndexNodeID" type="string" not-null="true"/>
    <property name="contributionDate" type="long" >
      <column name="ContributionDate"  not-null="true" />
    </property>
    <!--the variable column-->
    <#list ct.contentFieldsSet as field>
    <#if field.fieldType?default("")=="contentlink">
     <property name="${field.fieldName}" type="text">
       <column name="${field.fieldName}" />
     </property>
    <#elseif field.fieldType?default("")=="varchar">

        <#if field.fieldSize?default("")=="">
          <property name="${field.fieldName}" column="${field.fieldName}" type="string"/>
        <#else>
          <property name="${field.fieldName}" column="${field.fieldName}" type="string" length="${field.fieldSize}"/>
        </#if>
    <#else>
      <property name="${field.fieldName}" type="${field.fieldType}">
        <#if field.fieldSize?default("")=="">
          <column name="${field.fieldName}"  />
          <#else>
            <column name="${field.fieldName}" length="${field.fieldSize}" />
        </#if>
      </property>
    </#if>
    </#list>
  </class>
</hibernate-mapping>
